# imports
imports:
- 'lib/dep1/dep1.yml'
- 'lib/dep2/dep2.yml'

# variables
variables:
    PROJECT_NAME: Example
    ORGANIZATION: Example Corp
    PROJECT_VERSION: 1.1.1
    MAC_OS_TARGET: '10.11'
    PACKAGE_NAME: 'test.test.test'
    COPYRIGHT: 'Copyright by Tester'

inputs:
    - COMPANY_NAME
    - COMPANY_URL

# workspace settings
workspace:
    name: '${PROJECT_NAME}'

    settings:
        MACOSX_DEPLOYMENT_TARGET: '${MAC_OS_TARGET}'
        PRODUCT_BUNDLE_IDENTIFIER: '${PACKAGE_NAME}'
        ORGANIZATION_NAME: '${ORGANIZATION}'
        HUMAN_READABLE_COPYRIGHT: '${COPYRIGHT}'
        BUNDLE_VERSION: '${PROJECT_VERSION}'

    content:
        - app
        - dep1
        - dep2
        - dep21

# main App
app:
    name: '${PROJECT_NAME}'

    type: project
    outputType: app #main
    #outputType: framework
    projectType: source
    #icon: 'assets/icon/icon.png'

    settings:
        MACOSX_DEPLOYMENT_TARGET: '10.12'

    defines:
        - APP_NAME: '${PROJECT_NAME}'
        - DEBUG_APP: 1
        - TEST_APP
        - TEST_DEFINE

    includePaths:
        - './'
        - 'lib/prebuilt/'
        - 'platform:vs*':
            arch:win32:
                config:release:
                    - 'c:/win32Release'
                config:debug:
                    - 'c:/win32Debug'
            arch:x64:
                config:release:
                    - 'c:/win64Release'
                config:debug:
                    - 'c:/win64Debug'
        - 'platform:xcodeMac':
            arch:x86_64:
                config:release:
                    - '/MacRelease'
                    - '/MacRelease2'
                config:debug:
                    - '/MacDebug'
                    - '/MacDebug2'
            arch:x86:
                config:release:
                    - '/MacRelease2'
                config:debug:
                    - '/MacDebug2'

    sources:
        - source/main.cpp
        - source/main.h
        - source/stuff/**/*.*

    dependencies:
        - dep1
        - dep2
        - dep21
        - 'platform:xcodeMac':
            - 'lib/prebuilt/bin/xcodeMac/x86_64/prebuilt.a'

    hooks:
        beforePrepare: 'echo ECHOING before prepare'
        afterPrepare: 'echo ECHOING after prepare'
